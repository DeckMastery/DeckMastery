<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>DeckMastery</title>

  <link rel="stylesheet" href="./css/styles.css"/>

  <!-- Libraries (CDN) -->
  <script src="https://unpkg.com/lucide@latest"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.clouds.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.stars.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

  <style>
    html.boot { visibility: hidden; }
  </style>
  <script>document.documentElement.classList.add('boot');</script>
</head>

<body>
  <div id="bg"></div>

  <header class="topbar glass">
    <button class="icon-btn" id="btnProfile" data-sfx="naker" aria-label="الملف الشخصي">
      <i data-lucide="user"></i>
    </button>

    <div class="profile-strip">
      <div class="avatar-stack" id="avatarStack" aria-label="الأيقونة"></div>
      <div class="who">
        <div class="name" id="uiName"></div>
        <div class="meta">
          <span class="pill" id="uiRank"></span>
          <span class="pill" id="uiLevel"></span>
        </div>
        <div class="xpbar">
          <div class="xpfill" id="uiXpFill"></div>
        </div>
      </div>
    </div>

    <div class="top-right">
      <div class="stat">
        <i data-lucide="coins"></i>
        <span id="uiGold">0</span>
      </div>
      <button class="icon-btn" id="btnStreak" data-sfx="naker" aria-label="الالتزام">
        <i data-lucide="flame"></i>
        <span class="badge" id="uiStreak">0</span>
      </button>
      <button class="icon-btn" id="btnNotifications" data-sfx="tap_secondary" aria-label="التنبيهات">
        <i data-lucide="bell"></i>
        <span class="dot" id="uiNotiDot" hidden></span>
      </button>
      <button class="icon-btn" id="btnHelp" data-sfx="naker" aria-label="التعليمات">
        <i data-lucide="help-circle"></i>
      </button>
      <button class="icon-btn" id="btnSettings" data-sfx="naker" aria-label="الإعدادات">
        <i data-lucide="settings"></i>
      </button>
    </div>
  </header>

  <main id="app" class="app">
    <!-- Router outlet -->
  </main>

  <div id="modalRoot"></div>

  <script type="module" src="./js/app.js"></script>
</body>
</html>